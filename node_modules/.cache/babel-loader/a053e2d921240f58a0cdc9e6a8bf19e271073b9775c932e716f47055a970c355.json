{"ast":null,"code":"import{useEffect,useState}from\"react\";import OtpInput from\"react-otp-input\";import{Link}from\"react-router-dom\";import{BiArrowBack}from\"react-icons/bi\";import{RxCountdownTimer}from\"react-icons/rx\";import{useDispatch,useSelector}from\"react-redux\";import{sendOtp,signUp}from\"../services/operations/authAPI\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VerifyEmail(){const[otp,setOtp]=useState(\"\");const{signupData,loading}=useSelector(state=>state.auth);const dispatch=useDispatch();const navigate=useNavigate();useEffect(()=>{// Only allow access of this route when user has filled the signup form\nif(!signupData){navigate(\"/signup\");}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const handleVerifyAndSignup=e=>{e.preventDefault();const{accountType,firstName,lastName,email,password,confirmPassword}=signupData;dispatch(signUp(accountType,firstName,lastName,email,password,confirmPassword,otp,navigate));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[calc(100vh-3.5rem)] grid place-items-center\",children:loading?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[500px] p-4 lg:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-richblack-5 font-semibold text-[1.875rem] leading-[2.375rem]\",children:\"Verify Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[1.125rem] leading-[1.625rem] my-4 text-richblack-100\",children:\"A verification code has been sent to you. Enter the code below\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerifyAndSignup,children:[/*#__PURE__*/_jsx(OtpInput,{value:otp,onChange:setOtp,numInputs:6,renderInput:props=>/*#__PURE__*/_jsx(\"input\",{...props,placeholder:\"-\",style:{boxShadow:\"inset 0px -1px 0px rgba(255, 255, 255, 0.18)\"},className:\"w-[48px] lg:w-[60px] border-0 bg-richblack-800 rounded-[0.5rem] text-richblack-5 aspect-square text-center focus:border-0 focus:outline-2 focus:outline-yellow-50\"}),containerStyle:{justifyContent:\"space-between\",gap:\"0 6px\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-yellow-50 py-[12px] px-[12px] rounded-[8px] mt-6 font-medium text-richblack-900\",children:\"Verify Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-richblack-5 flex items-center gap-x-2\",children:[/*#__PURE__*/_jsx(BiArrowBack,{}),\" Back To Signup\"]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center text-blue-100 gap-x-2\",onClick:()=>dispatch(sendOtp(signupData.email)),children:[/*#__PURE__*/_jsx(RxCountdownTimer,{}),\"Resend it\"]})]})]})});}export default VerifyEmail;","map":{"version":3,"names":["useEffect","useState","OtpInput","Link","BiArrowBack","RxCountdownTimer","useDispatch","useSelector","sendOtp","signUp","useNavigate","jsx","_jsx","jsxs","_jsxs","VerifyEmail","otp","setOtp","signupData","loading","state","auth","dispatch","navigate","handleVerifyAndSignup","e","preventDefault","accountType","firstName","lastName","email","password","confirmPassword","className","children","onSubmit","value","onChange","numInputs","renderInput","props","placeholder","style","boxShadow","containerStyle","justifyContent","gap","type","to","onClick"],"sources":["C:/Users/rites/Downloads/7th sem/7th Sem Project/Study-pilot/Study-pilot/src/pages/VerifyEmail.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport OtpInput from \"react-otp-input\";\nimport { Link } from \"react-router-dom\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport { RxCountdownTimer } from \"react-icons/rx\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { sendOtp, signUp } from \"../services/operations/authAPI\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction VerifyEmail() {\n  const [otp, setOtp] = useState(\"\");\n  const { signupData, loading } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Only allow access of this route when user has filled the signup form\n    if (!signupData) {\n      navigate(\"/signup\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleVerifyAndSignup = (e) => {\n    e.preventDefault();\n    const {\n      accountType,\n      firstName,\n      lastName,\n      email,\n      password,\n      confirmPassword,\n    } = signupData;\n\n    dispatch(\n      signUp(\n        accountType,\n        firstName,\n        lastName,\n        email,\n        password,\n        confirmPassword,\n        otp,\n        navigate\n      )\n    );\n  };\n\n  return (\n    <div className=\"min-h-[calc(100vh-3.5rem)] grid place-items-center\">\n      {loading ? (\n        <div>\n          <div className=\"spinner\"></div>\n        </div>\n      ) : (\n        <div className=\"max-w-[500px] p-4 lg:p-8\">\n          <h1 className=\"text-richblack-5 font-semibold text-[1.875rem] leading-[2.375rem]\">\n            Verify Email\n          </h1>\n          <p className=\"text-[1.125rem] leading-[1.625rem] my-4 text-richblack-100\">\n            A verification code has been sent to you. Enter the code below\n          </p>\n          <form onSubmit={handleVerifyAndSignup}>\n            <OtpInput\n              value={otp}\n              onChange={setOtp}\n              numInputs={6}\n              renderInput={(props) => (\n                <input\n                  {...props}\n                  placeholder=\"-\"\n                  style={{\n                    boxShadow: \"inset 0px -1px 0px rgba(255, 255, 255, 0.18)\",\n                  }}\n                  className=\"w-[48px] lg:w-[60px] border-0 bg-richblack-800 rounded-[0.5rem] text-richblack-5 aspect-square text-center focus:border-0 focus:outline-2 focus:outline-yellow-50\"\n                />\n              )}\n              containerStyle={{\n                justifyContent: \"space-between\",\n                gap: \"0 6px\",\n              }}\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full bg-yellow-50 py-[12px] px-[12px] rounded-[8px] mt-6 font-medium text-richblack-900\"\n            >\n              Verify Email\n            </button>\n          </form>\n          <div className=\"mt-6 flex items-center justify-between\">\n            <Link to=\"/signup\">\n              <p className=\"text-richblack-5 flex items-center gap-x-2\">\n                <BiArrowBack /> Back To Signup\n              </p>\n            </Link>\n            <button\n              className=\"flex items-center text-blue-100 gap-x-2\"\n              onClick={() => dispatch(sendOtp(signupData.email))}\n            >\n              <RxCountdownTimer />\n              Resend it\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default VerifyEmail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}