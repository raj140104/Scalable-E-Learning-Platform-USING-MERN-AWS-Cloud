{"ast":null,"code":"import{useRef,useState}from\"react\";import{AiOutlineCaretDown}from\"react-icons/ai\";import{VscDashboard,VscSignOut}from\"react-icons/vsc\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import useOnClickOutside from\"../../../hooks/useOnClickOutside\";import{logout}from\"../../../services/operations/authAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileDropdown(){const{user}=useSelector(state=>state.profile);const dispatch=useDispatch();const navigate=useNavigate();const[open,setOpen]=useState(false);const ref=useRef(null);useOnClickOutside(ref,()=>setOpen(false));if(!user)return null;return/*#__PURE__*/_jsxs(\"button\",{className:\"relative\",onClick:()=>setOpen(true),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.image,alt:`profile-${user===null||user===void 0?void 0:user.firstName}`,className:\"aspect-square w-[30px] rounded-full object-cover\"}),/*#__PURE__*/_jsx(AiOutlineCaretDown,{className:\"text-sm text-richblack-100\"})]}),open&&/*#__PURE__*/_jsxs(\"div\",{onClick:e=>e.stopPropagation(),className:\"absolute top-[118%] right-0 z-[1000] divide-y-[1px] divide-richblack-700 overflow-hidden rounded-md border-[1px] border-richblack-700 bg-richblack-800\",ref:ref,children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard/my-profile\",onClick:()=>setOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full items-center gap-x-1 py-[10px] px-[12px] text-sm text-richblack-100 hover:bg-richblack-700 hover:text-richblack-25\",children:[/*#__PURE__*/_jsx(VscDashboard,{className:\"text-lg\"}),\"Dashboard\"]})}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{dispatch(logout(navigate));setOpen(false);},className:\"flex w-full items-center gap-x-1 py-[10px] px-[12px] text-sm text-richblack-100 hover:bg-richblack-700 hover:text-richblack-25\",children:[/*#__PURE__*/_jsx(VscSignOut,{className:\"text-lg\"}),\"Logout\"]})]})]});}","map":{"version":3,"names":["useRef","useState","AiOutlineCaretDown","VscDashboard","VscSignOut","useDispatch","useSelector","Link","useNavigate","useOnClickOutside","logout","jsx","_jsx","jsxs","_jsxs","ProfileDropdown","user","state","profile","dispatch","navigate","open","setOpen","ref","className","onClick","children","src","image","alt","firstName","e","stopPropagation","to"],"sources":["C:/Users/rites/Downloads/7th sem/7th Sem Project/Study-pilot/Study-pilot/src/components/core/Auth/ProfileDropDown.jsx"],"sourcesContent":["import { useRef, useState } from \"react\"\nimport { AiOutlineCaretDown } from \"react-icons/ai\"\nimport { VscDashboard, VscSignOut } from \"react-icons/vsc\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Link, useNavigate } from \"react-router-dom\"\n\nimport useOnClickOutside from \"../../../hooks/useOnClickOutside\"\nimport { logout } from \"../../../services/operations/authAPI\"\n\nexport default function ProfileDropdown() {\n  const { user } = useSelector((state) => state.profile)\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const [open, setOpen] = useState(false)\n  const ref = useRef(null)\n\n  useOnClickOutside(ref, () => setOpen(false))\n\n  if (!user) return null\n\n  return (\n    <button className=\"relative\" onClick={() => setOpen(true)}>\n      <div className=\"flex items-center gap-x-1\">\n        <img\n          src={user?.image}\n          alt={`profile-${user?.firstName}`}\n          className=\"aspect-square w-[30px] rounded-full object-cover\"\n        />\n        <AiOutlineCaretDown className=\"text-sm text-richblack-100\" />\n      </div>\n      {open && (\n        <div\n          onClick={(e) => e.stopPropagation()}\n          className=\"absolute top-[118%] right-0 z-[1000] divide-y-[1px] divide-richblack-700 overflow-hidden rounded-md border-[1px] border-richblack-700 bg-richblack-800\"\n          ref={ref}\n        >\n          <Link to=\"/dashboard/my-profile\" onClick={() => setOpen(false)}>\n            <div className=\"flex w-full items-center gap-x-1 py-[10px] px-[12px] text-sm text-richblack-100 hover:bg-richblack-700 hover:text-richblack-25\">\n              <VscDashboard className=\"text-lg\" />\n              Dashboard\n            </div>\n          </Link>\n          <div\n            onClick={() => {\n              dispatch(logout(navigate))\n              setOpen(false)\n            }}\n            className=\"flex w-full items-center gap-x-1 py-[10px] px-[12px] text-sm text-richblack-100 hover:bg-richblack-700 hover:text-richblack-25\"\n          >\n            <VscSignOut className=\"text-lg\" />\n            Logout\n          </div>\n        </div>\n      )}\n    </button>\n  )\n}"],"mappings":"AAAA,OAASA,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACxC,OAASC,kBAAkB,KAAQ,gBAAgB,CACnD,OAASC,YAAY,CAAEC,UAAU,KAAQ,iBAAiB,CAC1D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAEpD,MAAO,CAAAC,iBAAiB,KAAM,kCAAkC,CAChE,OAASC,MAAM,KAAQ,sCAAsC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CACxC,KAAM,CAAEC,IAAK,CAAC,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACC,OAAO,CAAC,CACtD,KAAM,CAAAC,QAAQ,CAAGd,WAAW,EAAE,CAC9B,KAAM,CAAAe,QAAQ,CAAGZ,WAAW,EAAE,CAC9B,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAAAsB,GAAG,CAAGvB,MAAM,CAAC,IAAI,CAAC,CAExBS,iBAAiB,CAACc,GAAG,CAAE,IAAMD,OAAO,CAAC,KAAK,CAAC,CAAC,CAE5C,GAAI,CAACN,IAAI,CAAE,MAAO,KAAI,CAEtB,mBACEF,KAAA,WAAQU,SAAS,CAAC,UAAU,CAACC,OAAO,CAAEA,CAAA,GAAMH,OAAO,CAAC,IAAI,CAAE,CAAAI,QAAA,eACxDZ,KAAA,QAAKU,SAAS,CAAC,2BAA2B,CAAAE,QAAA,eACxCd,IAAA,QACEe,GAAG,CAAEX,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEY,KAAM,CACjBC,GAAG,CAAG,WAAUb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,SAAU,EAAE,CAClCN,SAAS,CAAC,kDAAkD,EAC5D,cACFZ,IAAA,CAACV,kBAAkB,EAACsB,SAAS,CAAC,4BAA4B,EAAG,GACzD,CACLH,IAAI,eACHP,KAAA,QACEW,OAAO,CAAGM,CAAC,EAAKA,CAAC,CAACC,eAAe,EAAG,CACpCR,SAAS,CAAC,wJAAwJ,CAClKD,GAAG,CAAEA,GAAI,CAAAG,QAAA,eAETd,IAAA,CAACL,IAAI,EAAC0B,EAAE,CAAC,uBAAuB,CAACR,OAAO,CAAEA,CAAA,GAAMH,OAAO,CAAC,KAAK,CAAE,CAAAI,QAAA,cAC7DZ,KAAA,QAAKU,SAAS,CAAC,gIAAgI,CAAAE,QAAA,eAC7Id,IAAA,CAACT,YAAY,EAACqB,SAAS,CAAC,SAAS,EAAG,YAEtC,GAAM,EACD,cACPV,KAAA,QACEW,OAAO,CAAEA,CAAA,GAAM,CACbN,QAAQ,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,CAC1BE,OAAO,CAAC,KAAK,CAAC,CAChB,CAAE,CACFE,SAAS,CAAC,gIAAgI,CAAAE,QAAA,eAE1Id,IAAA,CAACR,UAAU,EAACoB,SAAS,CAAC,SAAS,EAAG,SAEpC,GAAM,GAET,GACM,CAEb"},"metadata":{},"sourceType":"module","externalDependencies":[]}