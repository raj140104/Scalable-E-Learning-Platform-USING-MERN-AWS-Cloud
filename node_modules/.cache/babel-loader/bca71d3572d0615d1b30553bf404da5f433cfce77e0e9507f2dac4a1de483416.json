{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate,useParams}from\"react-router-dom\";import\"video-react/dist/video-react.css\";import{useLocation}from\"react-router-dom\";import{BigPlayButton,Player}from\"video-react\";import{markLectureAsComplete}from\"../../../services/operations/courseDetailsAPI\";import{updateCompletedLectures}from\"../../../slices/viewCourseSlice\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const VideoDetails=()=>{const{courseId,sectionId,subSectionId}=useParams();const navigate=useNavigate();const location=useLocation();const playerRef=useRef(null);const dispatch=useDispatch();const{token}=useSelector(state=>state.auth);const{courseSectionData,courseEntireData,completedLectures}=useSelector(state=>state.viewCourse);const[videoData,setVideoData]=useState([]);const[previewSource,setPreviewSource]=useState(\"\");const[videoEnded,setVideoEnded]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{;(async()=>{if(!courseSectionData.length)return;if(!courseId&&!sectionId&&!subSectionId){navigate(`/dashboard/enrolled-courses`);}else{var _filteredData$;// console.log(\"courseSectionData\", courseSectionData)\nconst filteredData=courseSectionData.filter(course=>course._id===sectionId);// console.log(\"filteredData\", filteredData)\nconst filteredVideoData=filteredData===null||filteredData===void 0?void 0:(_filteredData$=filteredData[0])===null||_filteredData$===void 0?void 0:_filteredData$.subSection.filter(data=>data._id===subSectionId);// console.log(\"filteredVideoData\", filteredVideoData)\nsetVideoData(filteredVideoData[0]);setPreviewSource(courseEntireData.thumbnail);setVideoEnded(false);}})();},[courseSectionData,courseEntireData,location.pathname]);// check if the lecture is the first video of the course\nconst isFirstVideo=()=>{const currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndx===0&&currentSubSectionIndx===0){return true;}else{return false;}};// go to the next video\nconst goToNextVideo=()=>{// console.log(courseSectionData)\nconst currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);// console.log(\"no of subsections\", noOfSubsections)\nif(currentSubSectionIndx!==noOfSubsections-1){const nextSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx+1]._id;navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`);}else{const nextSectionId=courseSectionData[currentSectionIndx+1]._id;const nextSubSectionId=courseSectionData[currentSectionIndx+1].subSection[0]._id;navigate(`/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`);}};// check if the lecture is the last video of the course\nconst isLastVideo=()=>{const currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndx===courseSectionData.length-1&&currentSubSectionIndx===noOfSubsections-1){return true;}else{return false;}};// go to the previous video\nconst goToPrevVideo=()=>{// console.log(courseSectionData)\nconst currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSubSectionIndx!==0){const prevSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx-1]._id;navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`);}else{const prevSectionId=courseSectionData[currentSectionIndx-1]._id;const prevSubSectionLength=courseSectionData[currentSectionIndx-1].subSection.length;const prevSubSectionId=courseSectionData[currentSectionIndx-1].subSection[prevSubSectionLength-1]._id;navigate(`/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`);}};const handleLectureCompletion=async()=>{setLoading(true);const res=await markLectureAsComplete({courseId:courseId,subsectionId:subSectionId},token);if(res){dispatch(updateCompletedLectures(subSectionId));}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 text-white\",children:[!videoData?/*#__PURE__*/_jsx(\"img\",{src:previewSource,alt:\"Preview\",className:\"h-full w-full rounded-md object-cover\"}):/*#__PURE__*/_jsxs(Player,{ref:playerRef,aspectRatio:\"16:9\",playsInline:true,onEnded:()=>setVideoEnded(true),src:videoData===null||videoData===void 0?void 0:videoData.videoUrl,children:[/*#__PURE__*/_jsx(BigPlayButton,{position:\"center\"}),videoEnded&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:\"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"},className:\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",children:[!completedLectures.includes(subSectionId)&&/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>handleLectureCompletion(),text:!loading?\"Mark As Completed\":\"Loading...\",customClasses:\"text-xl max-w-max px-4 mx-auto\"}),/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>{if(playerRef!==null&&playerRef!==void 0&&playerRef.current){var _playerRef$current;// set the current time of the video to 0\nplayerRef===null||playerRef===void 0?void 0:(_playerRef$current=playerRef.current)===null||_playerRef$current===void 0?void 0:_playerRef$current.seek(0);setVideoEnded(false);}},text:\"Rewatch\",customClasses:\"text-xl max-w-max px-4 mx-auto mt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",children:[!isFirstVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToPrevVideo,className:\"blackButton\",children:\"Prev\"}),!isLastVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToNextVideo,className:\"blackButton\",children:\"Next\"})]})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 text-3xl font-semibold\",children:videoData===null||videoData===void 0?void 0:videoData.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pt-2 pb-6\",children:videoData===null||videoData===void 0?void 0:videoData.description})]});};export default VideoDetails;// video","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","jsx","_jsx","jsxs","_jsxs","VideoDetails","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","length","_filteredData$","filteredData","filter","course","_id","filteredVideoData","subSection","data","thumbnail","pathname","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","subsectionId","className","children","src","alt","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description"],"sources":["C:/Users/rites/Downloads/7th sem/7th Sem Project/Study-pilot/Study-pilot/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useNavigate, useParams } from \"react-router-dom\"\n\nimport \"video-react/dist/video-react.css\"\nimport { useLocation } from \"react-router-dom\"\nimport { BigPlayButton, Player } from \"video-react\"\n\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\"\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\"\nimport IconBtn from \"../../common/IconBtn\"\n\nconst VideoDetails = () => {\n  const { courseId, sectionId, subSectionId } = useParams()\n  const navigate = useNavigate()\n  const location = useLocation()\n  const playerRef = useRef(null)\n  const dispatch = useDispatch()\n  const { token } = useSelector((state) => state.auth)\n  const { courseSectionData, courseEntireData, completedLectures } =\n    useSelector((state) => state.viewCourse)\n\n  const [videoData, setVideoData] = useState([])\n  const [previewSource, setPreviewSource] = useState(\"\")\n  const [videoEnded, setVideoEnded] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!courseSectionData.length) return\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`)\n      } else {\n        // console.log(\"courseSectionData\", courseSectionData)\n        const filteredData = courseSectionData.filter(\n          (course) => course._id === sectionId\n        )\n        // console.log(\"filteredData\", filteredData)\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\n          (data) => data._id === subSectionId\n        )\n        // console.log(\"filteredVideoData\", filteredVideoData)\n        setVideoData(filteredVideoData[0])\n        setPreviewSource(courseEntireData.thumbnail)\n        setVideoEnded(false)\n      }\n    })()\n  }, [courseSectionData, courseEntireData, location.pathname])\n\n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx + 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\n      )\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id\n      navigate(\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\n      )\n    }\n  }\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (\n      currentSectionIndx === courseSectionData.length - 1 &&\n      currentSubSectionIndx === noOfSubsections - 1\n    ) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\n      )\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id\n      const prevSubSectionLength =\n        courseSectionData[currentSectionIndx - 1].subSection.length\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx - 1].subSection[\n          prevSubSectionLength - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\n      )\n    }\n  }\n\n  const handleLectureCompletion = async () => {\n    setLoading(true)\n    const res = await markLectureAsComplete(\n      { courseId: courseId, subsectionId: subSectionId },\n      token\n    )\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId))\n    }\n    setLoading(false)\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5 text-white\">\n      {!videoData ? (\n        <img\n          src={previewSource}\n          alt=\"Preview\"\n          className=\"h-full w-full rounded-md object-cover\"\n        />\n      ) : (\n        <Player\n          ref={playerRef}\n          aspectRatio=\"16:9\"\n          playsInline\n          onEnded={() => setVideoEnded(true)}\n          src={videoData?.videoUrl}\n        >\n          <BigPlayButton position=\"center\" />\n          {/* Render When Video Ends */}\n          {videoEnded && (\n            <div\n              style={{\n                backgroundImage:\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\n              }}\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\n            >\n              {!completedLectures.includes(subSectionId) && (\n                <IconBtn\n                  disabled={loading}\n                  onclick={() => handleLectureCompletion()}\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\n                />\n              )}\n              <IconBtn\n                disabled={loading}\n                onclick={() => {\n                  if (playerRef?.current) {\n                    // set the current time of the video to 0\n                    playerRef?.current?.seek(0)\n                    setVideoEnded(false)\n                  }\n                }}\n                text=\"Rewatch\"\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\n              />\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\n                {!isFirstVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToPrevVideo}\n                    className=\"blackButton\"\n                  >\n                    Prev\n                  </button>\n                )}\n                {!isLastVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToNextVideo}\n                    className=\"blackButton\"\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </Player>\n      )}\n\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\n    </div>\n  )\n}\n\nexport default VideoDetails\n// video"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}