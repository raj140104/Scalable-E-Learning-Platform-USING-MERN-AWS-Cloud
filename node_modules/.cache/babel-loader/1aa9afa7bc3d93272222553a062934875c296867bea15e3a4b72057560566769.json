{"ast":null,"code":"import{toast}from\"react-hot-toast\";import{setLoading,setUser}from\"../../slices/profileSlice\";import{apiConnector}from\"../apiconnector\";import{profileEndpoints}from\"../apis\";import{logout}from\"./authAPI\";const{GET_USER_DETAILS_API,GET_USER_ENROLLED_COURSES_API,GET_INSTRUCTOR_DATA_API}=profileEndpoints;export function getUserDetails(token,navigate){return async dispatch=>{const toastId=toast.loading(\"Loading...\");dispatch(setLoading(true));try{const response=await apiConnector(\"GET\",GET_USER_DETAILS_API,null,{Authorization:`Bearer ${token}`});console.log(\"GET_USER_DETAILS API RESPONSE............\",response);if(!response.data.success){throw new Error(response.data.message);}const userImage=response.data.data.image?response.data.data.image:`https://api.dicebear.com/5.x/initials/svg?seed=${response.data.data.firstName} ${response.data.data.lastName}`;dispatch(setUser({...response.data.data,image:userImage}));}catch(error){dispatch(logout(navigate));console.log(\"GET_USER_DETAILS API ERROR............\",error);toast.error(\"Could Not Get User Details\");}toast.dismiss(toastId);dispatch(setLoading(false));};}export async function getUserEnrolledCourses(token){const toastId=toast.loading(\"Loading...\");let result=[];try{console.log(\"BEFORE Calling BACKEND API FOR ENROLLED COURSES\");const response=await apiConnector(\"GET\",GET_USER_ENROLLED_COURSES_API,null,{Authorization:`Bearer ${token}`});console.log(\"AFTER Calling BACKEND API FOR ENROLLED COURSES\");// console.log(\n//   \"GET_USER_ENROLLED_COURSES_API API RESPONSE............\",\n//   response\n// )\nif(!response.data.success){throw new Error(response.data.message);}result=response.data.data;}catch(error){console.log(\"GET_USER_ENROLLED_COURSES_API API ERROR............\",error);toast.error(\"Could Not Get Enrolled Courses\");}toast.dismiss(toastId);return result;}export async function getInstructorData(token){const toastId=toast.loading(\"Loading...\");let result=[];try{var _response$data;const response=await apiConnector(\"GET\",GET_INSTRUCTOR_DATA_API,null,{Authorization:`Bearer ${token}`});console.log(\"GET_INSTRUCTOR_API_RESPONSE\",response);result=response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.courses;}catch(error){console.log(\"GET_INSTRUCTOR_API ERROR\",error);toast.error(\"Could not Get Instructor Data\");}toast.dismiss(toastId);return result;}","map":{"version":3,"names":["toast","setLoading","setUser","apiConnector","profileEndpoints","logout","GET_USER_DETAILS_API","GET_USER_ENROLLED_COURSES_API","GET_INSTRUCTOR_DATA_API","getUserDetails","token","navigate","dispatch","toastId","loading","response","Authorization","console","log","data","success","Error","message","userImage","image","firstName","lastName","error","dismiss","getUserEnrolledCourses","result","getInstructorData","_response$data","courses"],"sources":["C:/Users/rites/Downloads/7th sem/7th Sem Project/Study-pilot/Study-pilot/src/services/operations/profileAPI.js"],"sourcesContent":["import { toast } from \"react-hot-toast\"\n\nimport { setLoading, setUser } from \"../../slices/profileSlice\"\nimport { apiConnector } from \"../apiconnector\"\nimport { profileEndpoints } from \"../apis\"\nimport { logout } from \"./authAPI\"\n\nconst { GET_USER_DETAILS_API, GET_USER_ENROLLED_COURSES_API, GET_INSTRUCTOR_DATA_API } = profileEndpoints\n\nexport function getUserDetails(token, navigate) {\n  return async (dispatch) => {\n    const toastId = toast.loading(\"Loading...\")\n    dispatch(setLoading(true))\n    try {\n      const response = await apiConnector(\"GET\", GET_USER_DETAILS_API, null, {\n        Authorization: `Bearer ${token}`,\n      })\n      console.log(\"GET_USER_DETAILS API RESPONSE............\", response)\n\n      if (!response.data.success) {\n        throw new Error(response.data.message)\n      }\n      const userImage = response.data.data.image\n        ? response.data.data.image\n        : `https://api.dicebear.com/5.x/initials/svg?seed=${response.data.data.firstName} ${response.data.data.lastName}`\n      dispatch(setUser({ ...response.data.data, image: userImage }))\n    } catch (error) {\n      dispatch(logout(navigate))\n      console.log(\"GET_USER_DETAILS API ERROR............\", error)\n      toast.error(\"Could Not Get User Details\")\n    }\n    toast.dismiss(toastId)\n    dispatch(setLoading(false))\n  }\n}\n\nexport async function getUserEnrolledCourses(token) {\n  const toastId = toast.loading(\"Loading...\")\n  let result = []\n  try {\n    console.log(\"BEFORE Calling BACKEND API FOR ENROLLED COURSES\");\n    const response = await apiConnector(\n      \"GET\",\n      GET_USER_ENROLLED_COURSES_API,\n      null,\n      {\n        Authorization: `Bearer ${token}`,\n      }\n    )\n    console.log(\"AFTER Calling BACKEND API FOR ENROLLED COURSES\");\n    // console.log(\n    //   \"GET_USER_ENROLLED_COURSES_API API RESPONSE............\",\n    //   response\n    // )\n\n    if (!response.data.success) {\n      throw new Error(response.data.message)\n    }\n    result = response.data.data\n  } catch (error) {\n    console.log(\"GET_USER_ENROLLED_COURSES_API API ERROR............\", error)\n    toast.error(\"Could Not Get Enrolled Courses\")\n  }\n  toast.dismiss(toastId)\n  return result\n}\n\nexport async function getInstructorData(token) {\n  const toastId = toast.loading(\"Loading...\");\n  let result = [];\n  try{\n    const response = await apiConnector(\"GET\", GET_INSTRUCTOR_DATA_API, null, \n    {\n      Authorization: `Bearer ${token}`,\n    })\n\n    console.log(\"GET_INSTRUCTOR_API_RESPONSE\", response);\n    result = response?.data?.courses\n\n  }\n  catch(error) {\n    console.log(\"GET_INSTRUCTOR_API ERROR\", error);\n    toast.error(\"Could not Get Instructor Data\")\n  }\n  toast.dismiss(toastId);\n  return result;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}